<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°çº¢å¸½å†’é™©æ•…äº‹ - äº’åŠ¨æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .game-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 95vw;
            height: 95vh;
            max-width: 1400px;
            max-height: 900px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 15px 20px;
            text-align: center;
            flex-shrink: 0;
        }

        .header h1 {
            font-size: 1.8rem;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 0.9rem;
            opacity: 0.9;
            margin: 5px 0 0 0;
        }

        .game-content {
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* æ¨ªç‰ˆå¸ƒå±€å®¹å™¨ */
        .game-layout {
            display: flex;
            gap: 30px;
            flex: 1;
            min-height: 0;
        }

        .scene-image {
            width: 45%;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            flex-shrink: 0;
        }

        .scene-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .scene-image img:hover {
            transform: scale(1.05);
        }

        .scene-image .placeholder {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #666;
            font-style: italic;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            width: 100%;
            font-size: 1.2rem;
        }

        /* å³ä¾§å†…å®¹åŒºåŸŸ */
        .scene-content {
            width: 55%;
            display: flex;
            flex-direction: column;
            gap: 20px;
            flex: 1;
            min-height: 0;
            overflow-y: auto;
        }

        .scene-text {
            background: #f8f9fa;
            border-left: 5px solid #ff6b6b;
            padding: 15px;
            border-radius: 10px;
            line-height: 1.6;
            flex-shrink: 0;
        }

        .scene-text h3 {
            color: #333;
            margin: 0 0 10px 0;
            font-size: 1.2rem;
        }

        .scene-text p {
            color: #555;
            font-size: 1rem;
            margin: 0;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
            flex: 1;
        }

        .option-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            text-align: left;
            min-height: 80px;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            line-height: 1.4;
        }

        .option-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .feedback {
            padding: 15px 20px;
            border-radius: 12px;
            margin-bottom: 15px;
            animation: slideIn 0.5s ease;
            display: none;
            flex-shrink: 0;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .feedback.correct {
            background: linear-gradient(135deg, #56ab2f, #a8e6cf);
            color: white;
            border-left: 5px solid #2e7d32;
        }

        .feedback.incorrect {
            background: linear-gradient(135deg, #ff6b6b, #ffa07a);
            color: white;
            border-left: 5px solid #d32f2f;
        }

        .feedback h4 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .feedback p {
            line-height: 1.6;
            font-size: 1rem;
        }

        .continue-btn {
            background: linear-gradient(135deg, #11998e, #38ef7d);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: auto;
            transition: all 0.3s ease;
            display: none;
            box-shadow: 0 4px 15px rgba(56, 239, 125, 0.3);
            align-self: flex-start;
            flex-shrink: 0;
        }

        .continue-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(56, 239, 125, 0.4);
        }

        .start-screen {
            text-align: center;
            padding: 60px 40px;
        }

        .start-screen h2 {
            color: #333;
            margin-bottom: 30px;
            font-size: 2rem;
        }

        .start-screen p {
            color: #666;
            margin-bottom: 40px;
            font-size: 1.2rem;
            line-height: 1.6;
        }

        .start-btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 20px 60px;
            border-radius: 35px;
            cursor: pointer;
            font-size: 1.3rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(238, 90, 36, 0.3);
            z-index: 10;
            position: relative;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(238, 90, 36, 0.4);
        }

        .end-screen {
            text-align: center;
            padding: 60px 40px;
            display: none;
        }

        .end-screen h2 {
            color: #2e7d32;
            margin-bottom: 30px;
            font-size: 2.2rem;
        }

        .end-screen p {
            color: #666;
            margin-bottom: 20px;
            font-size: 1.2rem;
            line-height: 1.6;
        }

        .score {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff6b6b;
            margin: 20px 0;
        }

        .restart-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1rem;
            margin-top: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(118, 75, 162, 0.3);
        }

        .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(118, 75, 162, 0.4);
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 1024px) {
            .game-layout {
                flex-direction: column;
                gap: 20px;
            }

            .scene-image {
                width: 100%;
                height: 40vh;
            }

            .scene-content {
                width: 100%;
            }
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 1.5rem;
            }

            .header p {
                font-size: 0.8rem;
            }

            .game-content {
                padding: 15px;
            }

            .scene-text {
                padding: 12px;
            }

            .scene-text h3 {
                font-size: 1.1rem;
            }

            .scene-text p {
                font-size: 0.9rem;
            }

            .option-btn {
                padding: 12px 15px;
                font-size: 0.9rem;
                min-height: 70px;
            }

            .feedback {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>ğŸ”´ å°çº¢å¸½å†’é™©æ•…äº‹</h1>
            <p>ä¸€ä¸ªå…³äºå‹‡æ°”å’Œæ™ºæ…§çš„äº’åŠ¨ç«¥è¯</p>
        </div>

        <div class="game-content">
            <!-- å¼€å§‹ç•Œé¢ -->
            <div id="startScreen" class="start-screen">
                <h2>æ¬¢è¿æ¥åˆ°å°çº¢å¸½çš„ç«¥è¯ä¸–ç•Œï¼</h2>
                <p>
                    è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„ç«¥è¯æ•…äº‹æ”¹ç¼–çš„äº’åŠ¨æ¸¸æˆã€‚<br>
                    åœ¨æ¯ä¸ªåœºæ™¯ä¸­ï¼Œä½ éœ€è¦é€‰æ‹©æ­£ç¡®çš„é€‰é¡¹æ¥ç»§ç»­æ•…äº‹ã€‚<br>
                    ä»”ç»†é˜…è¯»æ¯ä¸ªé€‰é¡¹ï¼Œæ€è€ƒå“ªä¸€ä¸ªæœ€ç¬¦åˆå°çº¢å¸½çš„å¤„å¢ƒå’Œæ€§æ ¼ï¼
                </p>
                <button class="start-btn" onclick="startGame()">å¼€å§‹å†’é™©</button>
            </div>

            <!-- æ¸¸æˆåœºæ™¯ -->
            <div id="gameScene" class="hidden">
                <div class="game-layout">
                    <div class="scene-image" id="sceneImage">
                        <span>åœºæ™¯å›¾ç‰‡å ä½ç¬¦</span>
                    </div>

                    <div class="scene-content">
                        <div class="scene-text">
                            <h3 id="sceneTitle">åœºæ™¯æ ‡é¢˜</h3>
                            <p id="sceneDescription">åœºæ™¯æè¿°</p>
                        </div>

                        <div class="options" id="optionsContainer">
                            <!-- é€‰é¡¹æŒ‰é’®å°†åŠ¨æ€ç”Ÿæˆ -->
                        </div>

                        <div id="feedback" class="feedback">
                            <!-- åé¦ˆä¿¡æ¯å°†åŠ¨æ€æ˜¾ç¤º -->
                        </div>

                        <button id="continueBtn" class="continue-btn" onclick="nextScene()">ç»§ç»­ä¸‹ä¸€ä¸ªåœºæ™¯</button>
                    </div>
                </div>
            </div>

            <!-- ç»“æŸç•Œé¢ -->
            <div id="endScreen" class="end-screen">
                <h2>ğŸ‰ æ­å–œä½ å®Œæˆäº†å°çº¢å¸½çš„å†’é™©ï¼</h2>
                <p>ä½ æˆåŠŸåœ°å¸®åŠ©å°çº¢å¸½å®Œæˆäº†å»å¥¶å¥¶å®¶çš„æ—…ç¨‹ï¼Œå¹¶å­¦ä¼šäº†å¦‚ä½•ä¿æŠ¤è‡ªå·±ã€‚</p>
                <div class="score" id="scoreDisplay">æœ€ç»ˆå¾—åˆ†ï¼š0/7</div>
                <p>æ¯ä¸ªæ­£ç¡®çš„é€‰æ‹©éƒ½ä½“ç°äº†æ™ºæ…§å’Œè°¨æ…çš„å“è´¨ã€‚</p>
                <p>è®°ä½è¿™ä¸ªæ•…äº‹å‘Šè¯‰æˆ‘ä»¬çš„é“ç†ï¼šè¦å¬å¤§äººçš„è¯ï¼Œä¸è¦è½»ä¿¡é™Œç”Ÿäººï¼</p>
                <button class="restart-btn" onclick="restartGame()">é‡æ–°å¼€å§‹</button>
            </div>
        </div>
    </div>

    <script>
        const scenes = [
            {
                id: 1,
                title: "å¦ˆå¦ˆçš„å˜±æ‰˜",
                description: "æœ‰ä¸€å¤©ï¼Œå¦ˆå¦ˆå¯¹å°çº¢å¸½è¯´ï¼š\"å­©å­ï¼Œå¥¶å¥¶ç”Ÿç—…äº†ï¼Œä½ æŠŠè¿™ç¯®å­å¥½åƒçš„é€ç»™å¥¹ã€‚ä½†æ˜¯è®°ä½ï¼Œä¸€å®šè¦æ²¿ç€å¤§è·¯èµ°ï¼Œä¸è¦å’Œé™Œç”Ÿäººè¯´è¯ï¼\" å°çº¢å¸½åº”è¯¥å¦‚ä½•å›åº”ï¼Ÿ",
                image: "images/scene1_mother_kitchen.png",
                options: [
                    {
                        text: "è®¤çœŸåœ°è®°ä¸‹å¦ˆå¦ˆçš„è¯ï¼Œæ‰¿è¯ºä¸€å®šä¼šç›´æ¥å»å¥¶å¥¶å®¶",
                        correct: true,
                        feedback: "âœ… æ­£ç¡®ï¼å°çº¢å¸½æ˜¯ä¸€ä¸ªå¬è¯æ‡‚äº‹çš„å¥½å­©å­ã€‚å¥¹è®¤çœŸè®°ä½å¦ˆå¦ˆçš„æé†’ï¼Œè¿™æ ·èƒ½ä¿è¯å®‰å…¨åˆ°è¾¾å¥¶å¥¶å®¶ã€‚"
                    },
                    {
                        text: "è§‰å¾—å¦ˆå¦ˆå¤ªå•°å—¦äº†ï¼Œéšä¾¿åº”ä»˜ä¸€ä¸‹",
                        correct: false,
                        feedback: "âŒ ä¸æ­£ç¡®ã€‚å°çº¢å¸½ä¸åº”è¯¥è§‰å¾—å¦ˆå¦ˆå•°å—¦ã€‚å¦ˆå¦ˆçš„æé†’éƒ½æ˜¯å‡ºäºå…³å¿ƒï¼Œåœ¨æ£®æ—é‡Œç¡®å®è¦æ³¨æ„å®‰å…¨ã€‚"
                    },
                    {
                        text: "å†³å®šå…ˆå»æœ‹å‹å®¶ç©ä¸€ä¸‹å†å»å¥¶å¥¶å®¶",
                        correct: false,
                        feedback: "âŒ è¿™æ ·åšä¸å¯¹ã€‚å¥¶å¥¶ç”Ÿç—…äº†éœ€è¦ç…§é¡¾ï¼Œè€Œä¸”åç¦»é¢„å®šè·¯çº¿ä¼šé‡åˆ°å±é™©ã€‚åº”è¯¥å…ˆå®Œæˆé‡è¦çš„ä»»åŠ¡ã€‚"
                    }
                ]
            },
            {
                id: 2,
                title: "è¿›å…¥æ£®æ—",
                description: "å°çº¢å¸½å‘Šåˆ«å¦ˆå¦ˆï¼Œæç€ç¯®å­èµ°è¿›æ£®æ—ã€‚æ£®æ—é‡Œé˜³å…‰æ–‘é©³ï¼Œé¸Ÿå„¿åœ¨æ­Œå”±ï¼Œè·¯è¾¹å¼€æ»¡äº†ç¾ä¸½çš„é‡èŠ±ã€‚å°çº¢å¸½åº”è¯¥å¦‚ä½•å‰è¡Œï¼Ÿ",
                image: "images/scene2_forest_path.png",
                options: [
                    {
                        text: "æ²¿ç€ä¸»è·¯å°æ­¥å¿«èµ°ï¼Œä¸“å¿ƒèµ¶è·¯",
                        correct: true,
                        feedback: "âœ… æ­£ç¡®ï¼å°çº¢å¸½è®°å¾—å¦ˆå¦ˆçš„è¯ï¼Œæ²¿ç€å¤§è·¯ä¸“å¿ƒèµ°ï¼Œè¿™æ ·æ‰èƒ½å®‰å…¨åˆ°è¾¾å¥¶å¥¶å®¶ã€‚"
                    },
                    {
                        text: "çœ‹åˆ°è·¯è¾¹æœ‰å¥½çœ‹çš„è´è¶ï¼Œæƒ³å»è¿½é€",
                        correct: false,
                        feedback: "âŒ ä¸åº”è¯¥è¿™æ ·åšã€‚è¿½é€è´è¶ä¼šåç¦»å¤§è·¯ï¼Œè€Œä¸”ä¼šè€½è¯¯ç»™å¥¶å¥¶é€ä¸œè¥¿çš„æ—¶é—´ã€‚"
                    },
                    {
                        text: "æƒ³èµ°ä¸€æ¡å¥¹ä»æœªèµ°è¿‡çš„å°è·¯æ¢é™©",
                        correct: false,
                        feedback: "âŒ è¿™æ ·åšå¾ˆå±é™©ï¼åœ¨æ£®æ—é‡Œä¸åº”è¯¥èµ°ä¸ç†Ÿæ‚‰çš„å°è·¯ï¼Œå¯èƒ½ä¼šè¿·è·¯æˆ–é‡åˆ°å±é™©ã€‚"
                    }
                ]
            },
            {
                id: 3,
                title: "é‡åˆ°å¤§ç°ç‹¼",
                description: "çªç„¶ï¼Œä¸€åªå¤§ç°ç‹¼å‡ºç°åœ¨å°çº¢å¸½é¢å‰ã€‚ç‹¼å‹å¥½çš„é—®é“ï¼š\"å¯çˆ±çš„å°å§‘å¨˜ï¼Œä½ è¦å»å“ªé‡Œå‘€ï¼Ÿ\" å°çº¢å¸½åº”è¯¥å¦‚ä½•å›åº”ï¼Ÿ",
                image: "images/scene3_meeting_wolf.png",
                options: [
                    {
                        text: "ç¤¼è²Œä½†è°¨æ…åœ°å›ç­”ï¼Œä¸å¤šé€éœ²ä¿¡æ¯",
                        correct: true,
                        feedback: "âœ… å¾ˆå¥½çš„é€‰æ‹©ï¼å°çº¢å¸½åº”è¯¥ä¿æŒç¤¼è²Œï¼Œä½†è¦å°å¿ƒä¸è¦é€éœ²å¤ªå¤šä¸ªäººä¿¡æ¯ç»™é™Œç”Ÿäººã€‚"
                    },
                    {
                        text: "çƒ­æƒ…åœ°å‘Šè¯‰ç‹¼å¥¶å¥¶çš„è¯¦ç»†åœ°å€å’Œæƒ…å†µ",
                        correct: false,
                        feedback: "âŒ è¿™æ ·åšå¾ˆå±é™©ï¼ä¸åº”è¯¥å‘é™Œç”Ÿäººé€éœ²è¯¦ç»†åœ°å€å’Œå®¶åº­æƒ…å†µï¼Œè¿™å¯èƒ½ä¼šè¢«åäººåˆ©ç”¨ã€‚"
                    },
                    {
                        text: "è¢«ç‹¼å“å¾—å“­èµ·æ¥ï¼Œä»€ä¹ˆéƒ½è¯´ä¸æ¸…æ¥š",
                        correct: false,
                        feedback: "âŒ è™½ç„¶å®³æ€•æ˜¯æ­£å¸¸çš„ï¼Œä½†å®Œå…¨å´©æºƒæ— æ³•åº”å¯¹ä¹Ÿä¸å¥½ã€‚åº”è¯¥ä¿æŒå†·é™ï¼Œæƒ³æ¸…æ¥šè¯¥æ€ä¹ˆåšã€‚"
                    }
                ]
            },
            {
                id: 4,
                title: "ç‹¼çš„è¯±æƒ‘",
                description: "ç‹¼æŒ‡ç€æ—è¾¹çš„èŠ±ä¸›è¯´ï¼š\"ä½ çœ‹é‚£äº›èŠ±å¤šç¾å•Šï¼é‡‡ä¸€äº›é€ç»™å¥¶å¥¶ï¼Œå¥¹ä¸€å®šä¼šå¾ˆé«˜å…´çš„ã€‚\" å°çº¢å¸½åº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ",
                image: "images/scene4_wolf_deception.png",
                options: [
                    {
                        text: "ç¤¼è²Œåœ°æ‹’ç»äº†ï¼Œè¯´å¦ˆå¦ˆè®©ç›´æ¥å»å¥¶å¥¶å®¶",
                        correct: true,
                        feedback: "âœ… å®Œå…¨æ­£ç¡®ï¼å°çº¢å¸½éµå®ˆäº†å¦ˆå¦ˆçš„å˜±æ‰˜ï¼Œæ²¡æœ‰è¢«é™Œç”Ÿäººçš„å»ºè®®è¿·æƒ‘ï¼Œè¿™æ˜¯æ˜æ™ºçš„é€‰æ‹©ã€‚"
                    },
                    {
                        text: "é«˜å…´åœ°é‡‡èŠ±ï¼Œè§‰å¾—ç‹¼çš„å»ºè®®å¾ˆæ£’",
                        correct: false,
                        feedback: "âŒ ä¸åº”è¯¥è¿™æ ·åšã€‚è¿™æ­£ä¸­äº†ç‹¼çš„è¯¡è®¡ï¼Œä¼šè®©å°çº¢å¸½åç¦»å®‰å…¨è·¯çº¿ï¼Œç»™ç‹¼åˆ›é€ æœºä¼šã€‚"
                    },
                    {
                        text: "é‚€è¯·ç‹¼ä¸€èµ·å»é‡‡èŠ±",
                        correct: false,
                        feedback: "âŒ è¿™æ ·åšéå¸¸å±é™©ï¼ä¸åº”è¯¥å’Œé™Œç”Ÿäººç›¸å¤„ï¼Œæ›´ä¸èƒ½é‚€è¯·é™Œç”Ÿäººå’Œä½ ä¸€èµ·æ´»åŠ¨ã€‚"
                    }
                ]
            },
            {
                id: 5,
                title: "ç‹¼çš„è¯¡è®¡",
                description: "å°çº¢å¸½èµ°åï¼Œå¤§ç°ç‹¼ç«‹åˆ»è·‘åˆ°å¥¶å¥¶å®¶ï¼Œæ•²æ•²é—¨é—®ï¼š\"å¥¶å¥¶åœ¨å®¶å—ï¼Ÿ\" ç„¶åç‹¼å‡æ‰®å°çº¢å¸½çš„å£°éŸ³éª—å¥¶å¥¶å¼€äº†é—¨...",
                image: "images/scene5_wolf_disguise.png",
                options: [
                    {
                        text: "ç‹¼å¿«é€Ÿåƒæ‰å¥¶å¥¶å¹¶ä¼ªè£…æˆå¥¹ç­‰å¾…å°çº¢å¸½",
                        correct: true,
                        feedback: "âœ… æ­£ç¡®ï¼Œè¿™å°±æ˜¯åŸæ•…äº‹çš„æƒ…èŠ‚ã€‚ç‹¡çŒ¾çš„ç‹¼åƒäº†å¥¶å¥¶å¹¶ä¼ªè£…èµ·æ¥ï¼Œç­‰å¾…å°çº¢å¸½çš„åˆ°æ¥ã€‚"
                    },
                    {
                        text: "ç‹¼æ”¹å˜äº†ä¸»æ„ï¼Œå†³å®šå›å®¶ç¡è§‰",
                        correct: false,
                        feedback: "âŒ ä¸ç¬¦åˆæ•…äº‹å‘å±•ã€‚ç‹¼çš„æœ¬æ€§å°±æ˜¯ç‹¡çŒ¾è´ªå©ªçš„ï¼Œå®ƒä¸ä¼šè½»æ˜“æ”¾å¼ƒè¿™ä¹ˆå¥½çš„æœºä¼šã€‚"
                    },
                    {
                        text: "ç‹¼å†³å®šç›´æ¥åƒæ‰å°çº¢å¸½ï¼Œä¸å†ä¼ªè£…",
                        correct: false,
                        feedback: "âŒ ç‹¼æ›´èªæ˜ä¸€äº›ï¼Œå®ƒçŸ¥é“ä¼ªè£…èµ·æ¥å¯ä»¥è·å¾—æ›´å¤§çš„æˆåŠŸæœºä¼šï¼Œè¿™æ˜¯å®ƒçš„ç‹¡çŒ¾ä¹‹å¤„ã€‚"
                    }
                ]
            },
            {
                id: 6,
                title: "å¯ç–‘çš„å¥¶å¥¶",
                description: "å°çº¢å¸½ç»ˆäºæ¥åˆ°å¥¶å¥¶å®¶ï¼Œæ¨å¼€é—¨çœ‹åˆ°\"å¥¶å¥¶\"èººåœ¨åºŠä¸Šã€‚ä½†æ€»è§‰å¾—æœ‰äº›ä¸å¯¹åŠ²...å°çº¢å¸½åº”è¯¥å¦‚ä½•åº”å¯¹ï¼Ÿ",
                image: "images/scene6_suspicious_grandma.png",
                options: [
                    {
                        text: "æ³¨æ„åˆ°å¥¶å¥¶çš„å˜åŒ–ï¼Œè­¦æƒ•åœ°è¯¢é—®\"å¥¶å¥¶ï¼Œä½ çš„è€³æœµæ€ä¹ˆè¿™ä¹ˆå¤§ï¼Ÿ\"",
                        correct: true,
                        feedback: "âœ… éå¸¸å¥½ï¼å°çº¢å¸½ä¿æŒäº†è­¦æƒ•å¿ƒï¼Œå‘ç°äº†å¼‚å¸¸å¹¶å‹‡æ•¢åœ°è¯¢é—®ï¼Œè¿™æ˜¯è‡ªæˆ‘ä¿æŠ¤çš„æ­£ç¡®åšæ³•ã€‚"
                    },
                    {
                        text: "å®Œå…¨ç›¸ä¿¡æ˜¯å¥¶å¥¶ï¼Œæ¯«æ— é˜²å¤‡åœ°é è¿‘",
                        correct: false,
                        feedback: "âŒ è¿™æ ·åšå¾ˆå±é™©ï¼å½“æ„Ÿè§‰ä¸å¯¹åŠ²æ—¶ï¼Œåº”è¯¥ä¿æŒè­¦æƒ•ï¼Œè€Œä¸æ˜¯ç›²ç›®ç›¸ä¿¡ã€‚é‡è¦çš„äº‹æƒ…è¦æ³¨æ„ç»†èŠ‚ã€‚"
                    },
                    {
                        text: "å“å¾—è½¬èº«å°±è·‘ï¼Œä¸æ•¢ç¡®è®¤",
                        correct: false,
                        feedback: "âŒ è™½ç„¶å®³æ€•æ˜¯æ­£å¸¸çš„ï¼Œä½†é€ƒè·‘å‰åº”è¯¥ç¡®è®¤æƒ…å†µã€‚å¦‚æœçœŸçš„æ˜¯å¥¶å¥¶éœ€è¦å¸®åŠ©ï¼Œé€ƒè·‘å°±ä¸æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚"
                    }
                ]
            },
            {
                id: 7,
                title: "è‹±å‹‡æ•‘æ´",
                description: "å°±åœ¨å¤§ç°ç‹¼è¦åƒæ‰å°çº¢å¸½çš„æ—¶å€™ï¼Œä¸€ä½è·¯è¿‡çš„çŒäººå¬åˆ°äº†å“åŠ¨ã€‚çŒäººå‘ç°äº†æˆ¿é—´é‡Œçš„æƒ…å†µ...",
                image: "images/scene7_hunter_rescue.png",
                options: [
                    {
                        text: "çŒäººåŠæ—¶èµ¶åˆ°ï¼Œæ•‘å‡ºäº†å°çº¢å¸½å’Œå¥¶å¥¶",
                        correct: true,
                        feedback: "âœ… å®Œç¾çš„ç»“å±€ï¼çŒäººçš„å‹‡æ•¢å’ŒåŠæ—¶ï¼Œè®©å°çº¢å¸½å’Œå¥¶å¥¶éƒ½å®‰å…¨è·æ•‘ï¼Œæ­£ä¹‰æˆ˜èƒœäº†é‚ªæ¶ã€‚"
                    },
                    {
                        text: "æ²¡äººå‘ç°å¼‚å¸¸ï¼Œå°çº¢å¸½è¢«ç‹¼åƒæ‰",
                        correct: false,
                        feedback: "âŒ è¿™æ˜¯æ‚²ä¼¤çš„ç»“å±€ã€‚æ•…äº‹å‘Šè¯‰æˆ‘ä»¬ç¤¾ä¼šä¸Šæ€»æœ‰å¥½å¿ƒäººï¼Œé‡åˆ°å±é™©æ—¶åº”è¯¥ç›¸ä¿¡ä¼šæœ‰äººæ¥å¸®åŠ©ã€‚"
                    },
                    {
                        text: "çŒäººæ¥å¾—å¤ªæ™šäº†ï¼Œåªæœ‰å¥¶å¥¶è·æ•‘",
                        correct: false,
                        feedback: "âŒ è¿™ä¸ªç»“å±€ä¹Ÿä¸å®Œæ•´ã€‚åœ¨è¿™ä¸ªç»å…¸ç«¥è¯ä¸­ï¼Œå–„è‰¯æœ€ç»ˆä¼šæˆ˜èƒœé‚ªæ¶ï¼Œæ‰€æœ‰å¥½äººéƒ½ä¼šå¾—åˆ°å¥½ç»“æœã€‚"
                    }
                ]
            }
        ];

        let currentScene = 0;
        let score = 0;

        function startGame() {
            console.log('å¼€å§‹æ¸¸æˆè¢«è°ƒç”¨');
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameScene').classList.remove('hidden');
            currentScene = 0;
            score = 0;
            console.log('å‡†å¤‡åŠ è½½ç¬¬ä¸€ä¸ªåœºæ™¯');
            loadScene(0);
        }

        function loadScene(sceneIndex) {
            console.log(`æ­£åœ¨åŠ è½½åœºæ™¯ ${sceneIndex + 1}`);
            const scene = scenes[sceneIndex];
            console.log('åœºæ™¯æ•°æ®:', scene);
            document.getElementById('sceneTitle').textContent = scene.title;
            document.getElementById('sceneDescription').textContent = scene.description;

            // åŠ è½½åœºæ™¯å›¾ç‰‡
            const sceneImage = document.getElementById('sceneImage');
            // å…ˆæ˜¾ç¤ºå ä½ç¬¦ï¼Œç„¶åå°è¯•åŠ è½½å›¾ç‰‡
            sceneImage.innerHTML = `<div class="placeholder">æ­£åœ¨åŠ è½½åœºæ™¯${scene.id}...</div>`;

            // å»¶è¿ŸåŠ è½½å›¾ç‰‡ï¼Œé¿å…é˜»å¡
            setTimeout(() => {
                const img = new Image();
                img.onload = function() {
                    sceneImage.innerHTML = `<img src="${scene.image}" alt="${scene.title}">`;
                };
                img.onerror = function() {
                    sceneImage.innerHTML = `<div class="placeholder">åœºæ™¯${scene.id}ï¼š${scene.title}</div>`;
                };
                img.src = scene.image;
            }, 100);

            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            scene.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = `${String.fromCharCode(65 + index)}. ${option.text}`;
                button.onclick = () => selectOption(option);
                optionsContainer.appendChild(button);
            });

            // éšè—åé¦ˆå’Œç»§ç»­æŒ‰é’®
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('continueBtn').style.display = 'none';

            // ç¦ç”¨æ‰€æœ‰é€‰é¡¹æŒ‰é’®ï¼ˆç­‰å¾…é€‰æ‹©ï¼‰
            const optionButtons = document.querySelectorAll('.option-btn');
            optionButtons.forEach(btn => {
                btn.disabled = false;
                btn.style.opacity = '1';
                btn.style.cursor = 'pointer';
            });
        }

        function selectOption(option) {
            console.log('é€‰æ‹©é€‰é¡¹:', option);
            const feedback = document.getElementById('feedback');
            const continueBtn = document.getElementById('continueBtn');

            // æ˜¾ç¤ºåé¦ˆ
            feedback.className = `feedback ${option.correct ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = `
                <h4>${option.correct ? 'âœ… å›ç­”æ­£ç¡®ï¼' : 'âŒ å›ç­”é”™è¯¯'}</h4>
                <p>${option.feedback}</p>
            `;
            feedback.style.display = 'block';

            if (option.correct) {
                score++;
            }

            // ç¦ç”¨æ‰€æœ‰é€‰é¡¹æŒ‰é’®
            const optionButtons = document.querySelectorAll('.option-btn');
            optionButtons.forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.6';
                btn.style.cursor = 'not-allowed';
            });

            // æ˜¾ç¤ºç»§ç»­æŒ‰é’®
            if (currentScene < scenes.length - 1) {
                continueBtn.style.display = 'block';
                continueBtn.textContent = 'ç»§ç»­ä¸‹ä¸€ä¸ªåœºæ™¯';
            } else {
                continueBtn.textContent = 'æŸ¥çœ‹ç»“æœ';
                continueBtn.style.display = 'block';
            }
        }

        function nextScene() {
            if (currentScene < scenes.length - 1) {
                currentScene++;
                loadScene(currentScene);
            } else {
                showEndScreen();
            }
        }

        function showEndScreen() {
            document.getElementById('gameScene').classList.add('hidden');
            document.getElementById('endScreen').style.display = 'block';
            document.getElementById('scoreDisplay').textContent = `æœ€ç»ˆå¾—åˆ†ï¼š${score}/${scenes.length}`;
        }

        function restartGame() {
            document.getElementById('endScreen').style.display = 'none';
            document.getElementById('startScreen').classList.remove('hidden');
            currentScene = 0;
            score = 0;
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–ç•Œé¢
            console.log('å°çº¢å¸½å†’é™©æ•…äº‹æ¸¸æˆå·²åŠ è½½');

            // æ·»åŠ ç‚¹å‡»åé¦ˆ
            console.log('å¼€å§‹æ¸¸æˆæŒ‰é’®:', document.querySelector('.start-btn'));
            console.log('é€‰é¡¹æŒ‰é’®æ•°é‡:', document.querySelectorAll('.option-btn').length);
        });
    </script>
</body>
</html>